<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>02_index</title>
    <style>
        .수{
            background-color: #f00;
        }
        .우{
            background-color: #fa0;
        }
        .미{
            background-color: #ff0;
        }
        .양{
            background-color: #0f0;
        }
        .가{
            background-color: #00f;
        }
    </style>
</head>
<body>
    <h1>02_index</h1>
    <script>
        let jum =   [89,        65,      91,     54,     78]
        let pname = ["장동건","장서건","장남건","장중건","북두신건"]
        //             0         1        2      3         4

        /*
                국어    영어    수학     총점    평균
        이효리      77   78       72   
        삼효리      97   98       92
        사효리      67   68       62
        오효리      87   88       82
        
        총점, 평균은 배열로 처리
        */


    </script>
    <table border="">
        <tr>
            <td>번호</td>
            <td>이름</td>
            <td>점수</td>
        </tr>
        <script>
            for (const i in jum) {
                let ttt =   "<tr><td>"+i+
                            "</td><td>"+pname[i]+
                            "</td><td>"+jum[i]+
                            "</td></tr>"
                document.write(ttt)
            }
        </script>
    </table>




    <script>

        //1. 입력부
        pname = ["이효리","삼효리","사효리","오효리"]
            let kor = [77,      97,     67,      87]
            let eng = [76,96,66,86]
            let mat = [72,92,62,82]
            let totArr = []
            let avgArr = []
            const gradeTitle = new Array('가','가','가','가','가','가','양','미','우','수','수')
            let rankArr = new Array()
            let tttArr = new Array()

            //2. 연산부
            //2.1 총점, 평균
            for (let i = 0; i < pname.length; i++) {
                totArr[i] = kor[i]+eng[i]+mat[i]
                avgArr[i] = totArr[i] / 3
            }

            //2.2 등수
            for (let me = 0; me < pname.length; me++) {
                rankArr[me] = 1
                for (let you = 0; you < pname.length; you++) {
                    if(avgArr[me] < avgArr[you]){
                        rankArr[me]++
                    }
                }
            }

            //2.3 출력내용
            for (const i in pname) {
                
                const gt = gradeTitle[(avgArr[i]-avgArr[i]%10)/10]

                tttArr[i] = "<tr class='"+gt+"'>"
                    tttArr[i] += "<td>"+i+"</td>"
                    tttArr[i] += "<td>"+pname[i]+"</td>"
                    tttArr[i] += "<td>"+kor[i]+"</td>"
                    tttArr[i] += "<td>"+eng[i]+"</td>"
                    tttArr[i] += "<td>"+mat[i]+"</td>"
                    tttArr[i] += "<td>"+totArr[i]+"</td>"
                    tttArr[i] += "<td>"+avgArr[i]+"</td>"
                    tttArr[i] += "<td>"+rankArr[i]+"</td>"
                    tttArr[i] += "<td>"+gt+"</td>"
                    tttArr[i] += "</tr>"
                //console.log((avgArr[i]-avgArr[i]%10)/10)
                //document.write(ttt)

            }

    </script>

    <!--3. 출력부   -->
    <h2>3.1 배열순서</h2>
    <table border="">
        <tr>
            <td>번호</td>
            <td>이름</td>
            <td>국어</td>
            <td>영어</td>
            <td>수학</td>
            <td>총점</td>
            <td>평균</td>
            <td>등수</td>
            <td>등급</td>
        </tr>
        <script>
            
            for (const tt of tttArr) {
                
               
                document.write(tt)

            }

        </script>
    </table>

    <h2>3.2 등수 내림차순</h2>
    <table border="">
        <tr>
            <td>번호</td>
            <td>이름</td>
            <td>국어</td>
            <td>영어</td>
            <td>수학</td>
            <td>총점</td>
            <td>평균</td>
            <td>등수</td>
            <td>등급</td>
        </tr>
        <script>
            for(let r = 1; r<=pname.length; r++){
                for (const i in pname) {
                    
                    if(r==rankArr[i]){
                        
                        document.write(tttArr[i])
                    }
                }
            }

        </script>
    </table>



</body>
</html>